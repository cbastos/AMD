{"version":3,"file":"JSL.min.js","sources":["JSL.js"],"names":["JSL","classes","DependenciesFactory","fill","dependenciesTemplate","instantiate","property","get","Array","isArray","globalVariablePath","nameSpacePathParts","split","nameSpacePath","i","l","length","window","from","prototype","createFrom","defaultDependencies","dependencies","member","ModuleManager","scriptProvider","startingModulesTracker","dependenciesFactory","validate","moduleInfo","isNotValid","undefined","registerOnWindow","module","id","download","promise","Promise","elementsToDownload","getElementsToDownload","then","resolve","element","p","isLoaded","downloadInOrder","push","concat","getModule","moduleIdentifier","getVar","getNumberOfRequestsFor","target","instanceStartingModulesOf","hasRequestsRegisteredFor","moduleRequestPromise","getFirstModuleRequestFor","deleteFirstModuleRequestFor","hasStartingDataCallBak","instance","self","this","setDefaultDependencies","newDefaultDependencies","register","moduleRegisterInfo","registerModuleRequest","ModuleRequestTracker","startingModules","moduleRequest","splice","resolved","thenCallback","callback","apply","args","arguments","ScriptProvider","_scriptPaths","pathReference","isValid","JSON","stringify","getDownloadPromiseFor","getScript","call","downloadScriptsInOrder","scriptsNames","firstScriptIdentifier","shift","scriptIdentifier","existingScript","getFirstScriptInDom","downloadScript","scriptPath","getPathFor","getAttribute","addEventListener","scripts","document","getElementsByTagName","isTheFirstScriptWithThisIdentifier","downloadScriptConfig","script","createElement","setAttribute","src","head","appendChild","url","_pathResolver","reference","identifiers","checkAreDownladed","indexOf","setPathResolver","pathResolver","moduleManager","set","config","configDetails"],"mappings":"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"}